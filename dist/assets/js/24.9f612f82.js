(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{426:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("Linux开机脚本")])]),t._v(" "),e("h1",{attrs:{id:"设置一个linux开机自启动脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置一个linux开机自启动脚本"}},[t._v("#")]),t._v(" 设置一个linux开机自启动脚本")]),t._v(" "),e("h2",{attrs:{id:"在-linux-系统中-可以通过将-shell-脚本添加到系统启动项来实现开机自启动的功能。具体步骤如下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-linux-系统中-可以通过将-shell-脚本添加到系统启动项来实现开机自启动的功能。具体步骤如下"}},[t._v("#")]),t._v(" 在 Linux 系统中，可以通过将 shell 脚本添加到系统启动项来实现开机自启动的功能。具体步骤如下：")]),t._v(" "),e("ul",[e("li",[t._v("编写要自启动的 shell 脚本。需要确保脚本可以在后台运行，例如使用 nohup 命令或者将脚本放在 screen 会话中。")]),t._v(" "),e("li",[t._v("将脚本放置到系统启动项目录中。在 Ubuntu 等基于 systemd 的系统中，可以将脚本放置到 "),e("code",[t._v("/etc/systemd/system/")]),t._v(" 目录下，以 "),e("code",[t._v(".service")]),t._v(" 作为后缀名。例如：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("$ sudo vi /etc/systemd/system/my-script.service\n")])])]),e("ul",[e("li",[t._v("在 "),e("code",[t._v("my-script.service")]),t._v(" 文件中添加如下内容：")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("[Unit]\nDescription=My Script\nAfter=network.target\n\n[Service]\nUser=username\nType=simple\nWorkingDirectory=/path/to/my-script\nExecStart=/path/to/my-script/my-script.sh\nRestart=always\nRestartSec=3\n\n[Install]\nWantedBy=multi-user.target\n")])])]),e("p",[t._v("其中，"),e("code",[t._v("Description")]),t._v(" 字段是对服务的简要描述；")]),t._v(" "),e("p",[e("code",[t._v("After")]),t._v("字段指定服务启动的时间，这里是在系统启动后启动；User 字段指定服务所属的用户，")]),t._v(" "),e("p",[e("code",[t._v("Type")]),t._v(" 字段指定服务的启动类型，这里是简单的单进程类型；WorkingDirectory 字段指定服务的工作目录；")]),t._v(" "),e("p",[e("code",[t._v("ExecStart")]),t._v(" 字段指定服务启动的命令；")]),t._v(" "),e("p",[e("code",[t._v("Restart")]),t._v("和 "),e("code",[t._v("RestartSec")]),t._v("字段指定服务的重启策略；WantedBy 字段指定服务所在的系统运行级别。")]),t._v(" "),e("p",[t._v("现在，每次系统启动时，就会自动运行你的 shell 脚本。你可以使用 "),e("code",[t._v("systemctl status my-script.service")]),t._v("命令来查看服务的状态和日志信息。如果需要禁用自启动，可以使用 "),e("code",[t._v("systemctl disable my-script.service")]),t._v(" 命令。")])])}),[],!1,null,null,null);e.default=a.exports}}]);